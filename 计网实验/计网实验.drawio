<mxfile host="app.diagrams.net" modified="2021-01-13T09:03:24.200Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.193 Safari/537.36" etag="9jU6V4kHuD5GlISuPEuK" version="14.1.9" type="github" pages="5">
  <diagram id="I5vamopJ3deB-taXm16G" name="第 1 页">
    <mxGraphModel dx="701" dy="772" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ZMZkas086opYnH1M5N4t-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-2" target="ZMZkas086opYnH1M5N4t-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-2" value="开始" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="70" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="120" y="380" />
              <mxPoint x="120" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-4" value="on_uploadButton_pressed()&lt;br&gt;从图形界面获取用户输入地址信息以及文件信息，进行上传" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="350" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="200" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="310" />
              <mxPoint x="560" y="200" />
              <mxPoint x="340" y="200" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-7" value="&lt;span&gt;on_downloadButton_pressed()&lt;/span&gt;&lt;br&gt;从图形界面获取用户输入地址信息以及文件信息，进行下载" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="280" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-12" target="ZMZkas086opYnH1M5N4t-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="230" />
              <mxPoint x="445" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-12" target="ZMZkas086opYnH1M5N4t-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="230" />
              <mxPoint x="230" y="230" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-12" value="initUI()&lt;br&gt;初始化图形界面以及winsock" style="whiteSpace=wrap;fillColor=none;gradientColor=none;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="120" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-18" value="用户选择上传/下载" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="285" y="240" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="ZMZkas086opYnH1M5N4t-19" target="ZMZkas086opYnH1M5N4t-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZMZkas086opYnH1M5N4t-19" value="on_PathChoose_pressed()&lt;br&gt;选择文件" style="whiteSpace=wrap;fillColor=none;gradientColor=none;html=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="280" width="160" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="U_rah3zaAMiAVOJGlPyq" name="第 2 页">
    <mxGraphModel dx="701" dy="772" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="j78eYndpJvXbP0Txt7fj-0" />
        <mxCell id="j78eYndpJvXbP0Txt7fj-1" parent="j78eYndpJvXbP0Txt7fj-0" />
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="j78eYndpJvXbP0Txt7fj-2" target="ACLHtpbnKENKi-vV2St0-0">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="j78eYndpJvXbP0Txt7fj-2" value="上传文件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="240" y="640" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="ACLHtpbnKENKi-vV2St0-0" target="ACLHtpbnKENKi-vV2St0-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ACLHtpbnKENKi-vV2St0-0" value="选择文件&lt;br&gt;on_PathChoose_pressed()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="200" y="700" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="ACLHtpbnKENKi-vV2St0-1" target="5Fw_-H4W2ra-p_-WvNc5-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ACLHtpbnKENKi-vV2St0-1" value="输入服务器ip以及本地ip" style="whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="205" y="770" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="ACLHtpbnKENKi-vV2St0-4" target="ACLHtpbnKENKi-vV2St0-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ACLHtpbnKENKi-vV2St0-4" value="以ASCII字符形式读入数据文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="140" y="940" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="ACLHtpbnKENKi-vV2St0-5" target="ACLHtpbnKENKi-vV2St0-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ACLHtpbnKENKi-vV2St0-5" value="以二进制形式读入数据文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="310" y="940" width="115" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ACLHtpbnKENKi-vV2St0-6" value="上传文件&lt;br&gt;on_uploadButton_pressed()" style="whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="200" y="1020" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="5Fw_-H4W2ra-p_-WvNc5-4" target="ACLHtpbnKENKi-vV2St0-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="j78eYndpJvXbP0Txt7fj-1" source="5Fw_-H4W2ra-p_-WvNc5-4" target="ACLHtpbnKENKi-vV2St0-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-4" value="&lt;span&gt;选择传输模式&lt;br&gt;netascii/octet&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="195" y="827" width="170" height="53" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-8" value="netascii" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="205" y="890" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="5Fw_-H4W2ra-p_-WvNc5-10" value="octet" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="j78eYndpJvXbP0Txt7fj-1">
          <mxGeometry x="315" y="890" width="40" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="v-9mWoTb7BzvJZbOW2z0" name="第 3 页">
    <mxGraphModel dx="701" dy="772" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-0" />
        <mxCell id="wXQUeG7tJItjPKZB6V5U-1" parent="wXQUeG7tJItjPKZB6V5U-0" />
        <mxCell id="wXQUeG7tJItjPKZB6V5U-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-3" target="wXQUeG7tJItjPKZB6V5U-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-3" value="下载文件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="320" y="100" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-5" target="wXQUeG7tJItjPKZB6V5U-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-5" value="输入远程文件地址和本地文件保存地址" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="280" y="160" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-7" target="wXQUeG7tJItjPKZB6V5U-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-7" value="输入服务器ip以及本地ip" style="whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="285" y="230" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-9" target="wXQUeG7tJItjPKZB6V5U-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-9" value="以ASCII字符形式读入数据文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="220" y="400" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-11" target="wXQUeG7tJItjPKZB6V5U-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-11" value="以二进制形式读入数据文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="390" y="400" width="115" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-12" value="下载文件&lt;br&gt;on_uploadButton_pressed()" style="whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="280" y="480" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-15" target="wXQUeG7tJItjPKZB6V5U-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wXQUeG7tJItjPKZB6V5U-1" source="wXQUeG7tJItjPKZB6V5U-15" target="wXQUeG7tJItjPKZB6V5U-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-15" value="&lt;span&gt;选择传输模式&lt;br&gt;netascii/octet&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="275" y="287" width="170" height="53" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-16" value="netascii" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="285" y="350" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wXQUeG7tJItjPKZB6V5U-17" value="octet" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="wXQUeG7tJItjPKZB6V5U-1">
          <mxGeometry x="395" y="350" width="40" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="3LLxdsI6JrinUnnLnhiB" name="第 4 页">
    <mxGraphModel dx="3938" dy="1604" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="BXDnWHQRJDUZymQBICM--0" />
        <mxCell id="BXDnWHQRJDUZymQBICM--1" parent="BXDnWHQRJDUZymQBICM--0" />
        <mxCell id="BXDnWHQRJDUZymQBICM--5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--2" target="BXDnWHQRJDUZymQBICM--3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--2" value="上传文件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="240" y="130" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--3" target="BXDnWHQRJDUZymQBICM--4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--3" value="获取用户选择文件filename" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="225" y="190" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--4" target="BXDnWHQRJDUZymQBICM--12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--4" value="获取用户输入服务器IP: serverAddr以及本地IP: clientAddr" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="215" y="260" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--9" value="error(&amp;quot;open log file failed&amp;quot;)" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="385" y="347.5" width="100" height="35" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--10" target="BXDnWHQRJDUZymQBICM--16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--10" value="服务器端口选择69&lt;br&gt;本地端口选择任意空闲端口" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="197.5" y="420" width="165" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--12" target="BXDnWHQRJDUZymQBICM--9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--12" target="BXDnWHQRJDUZymQBICM--10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--12" value="&lt;span&gt;打开日志文件 tftp.log&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="200" y="340" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--16" target="BXDnWHQRJDUZymQBICM--18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--16" target="BXDnWHQRJDUZymQBICM--22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--16" value="创建套接字 sock" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="215" y="500" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--18" value="error(&quot;Client create socket error!&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="380" y="505" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--20" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="260" y="390" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--21" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="355" y="347.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--22" target="BXDnWHQRJDUZymQBICM--27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--22" value="使用bind将套接字sock和clientAddr绑定" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="220" y="580" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--24" target="BXDnWHQRJDUZymQBICM--26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--24" target="BXDnWHQRJDUZymQBICM--33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--24" value="读取选择的传输模式choose" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="187.5" y="790" width="185" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--26" target="BXDnWHQRJDUZymQBICM--42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--26" value="字符模式&lt;br&gt;sendPacket.mode = netascii" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="110" y="890" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--27" target="BXDnWHQRJDUZymQBICM--30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--27" value="数据包类型为写文件请求包WRQ&lt;br&gt;sendPacket.cmd = htons(CMD_WRQ);" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="172.5" y="660" width="215" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--30" target="BXDnWHQRJDUZymQBICM--24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--30" value="数据包文件名&lt;br&gt;sendPacket.filename&amp;nbsp; = filename" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="185" y="730" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--33" target="BXDnWHQRJDUZymQBICM--42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--33" value="二进制模式&lt;br&gt;sendPacket.mode = octet" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="285" y="890" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--38" value="choose = 0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="155" y="840" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--39" value="choose = 1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="340" y="840" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--40" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="250" y="550" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--41" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="345" y="500" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--42" target="BXDnWHQRJDUZymQBICM--45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--42" value="发送数据包&lt;br&gt;sendto(sock, sendPacket)" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="195" y="980" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--45" target="BXDnWHQRJDUZymQBICM--47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--45" value="time_wait_ack = 0" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="220" y="1050" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--47" target="BXDnWHQRJDUZymQBICM--49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--47" target="BXDnWHQRJDUZymQBICM--65">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="465" y="1135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--47" value="小于最大等待时间&lt;br&gt;time_wait_ack &amp;lt; PKT_RCV_TIMEOUT" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="120" y="1100" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--49" target="BXDnWHQRJDUZymQBICM--51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--49" value="接收数据包&lt;br&gt;r_size = recvfrom(sock, rcv_packet)" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="175" y="1200" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--51" target="BXDnWHQRJDUZymQBICM--52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--51" target="BXDnWHQRJDUZymQBICM--56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--51" value="r_size &amp;lt; 4 ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="220" y="1260" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--52" value="error(&quot;&quot;Bad packet&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="387.5" y="1260" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--55" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="342.5" y="1260" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--56" target="BXDnWHQRJDUZymQBICM--59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="75" y="1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--56" target="BXDnWHQRJDUZymQBICM--68">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="1360" />
              <mxPoint x="530" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--56" value="r_size &amp;gt;= 4 &amp;amp;&amp;amp;&amp;nbsp;&lt;br&gt;rcv_packet.cmd == htons(CMD_ACK)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="115" y="1330" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--59" target="BXDnWHQRJDUZymQBICM--47">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="75" y="1135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--59" value="Sleep(20);&lt;br&gt;time_wait_ack += 20" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="10" y="1230" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--62" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="250" y="1170" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--63" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="250" y="1300" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--64" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="90" y="1340" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--65" value="error(&quot;Could not receive from server.&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="400" y="1180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--68" target="BXDnWHQRJDUZymQBICM--70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--68" value="收到ACK，开始传输文件&lt;br&gt;打开文件&lt;br&gt;fp = fopen(filename);" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="680" y="115" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--73" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--70" target="BXDnWHQRJDUZymQBICM--72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--70" target="BXDnWHQRJDUZymQBICM--74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--70" value="fp = NULL ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="705" y="197.5" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--72" value="error(&quot;File not exists!&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="845" y="200" width="155" height="35" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--74" target="BXDnWHQRJDUZymQBICM--77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--74" value="start = clock();&lt;br&gt;block = 1&lt;br&gt;sendPacket.cmd = htons(CMD_DATA);&lt;br&gt;s_size = fread(sendPacket.data, 1, DATA_SIZE, fp);" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="602.8199999999999" y="260" width="304.37" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--77" target="BXDnWHQRJDUZymQBICM--79">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--77" value="rxmt = 0 // 重传次数" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="697.5" y="350" width="115" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--79" target="BXDnWHQRJDUZymQBICM--86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--79" target="BXDnWHQRJDUZymQBICM--151">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--79" value="rxmt &amp;lt; 3" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="715" y="400" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--81" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="805" y="190" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--83" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="735" y="237.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--86" target="BXDnWHQRJDUZymQBICM--126">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="755" y="500" />
              <mxPoint x="755" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--86" value="发送数据包&lt;br&gt;sendto(sock, sendPacket)" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="670" y="450" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--126" target="BXDnWHQRJDUZymQBICM--128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--126" target="BXDnWHQRJDUZymQBICM--141">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--126" value="小于最大等待时间&lt;br&gt;time_wait_ack &amp;lt; &lt;br&gt;PKT_RCV_TIMEOUT" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="652.5" y="537" width="205" height="70" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--128" target="BXDnWHQRJDUZymQBICM--131">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--128" value="接收数据包&lt;br&gt;r_size = recvfrom(sock, rcv_packet)" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="650" y="637" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--131" target="BXDnWHQRJDUZymQBICM--132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--131" target="BXDnWHQRJDUZymQBICM--135">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--131" value="r_size &amp;lt; 4 ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="695" y="697" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--132" value="error(&quot;&quot;Bad packet&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="845" y="697" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--133" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="817.5" y="697" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--135" target="BXDnWHQRJDUZymQBICM--137">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="615" y="797" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--144" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--135" target="BXDnWHQRJDUZymQBICM--143">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--135" value="r_size &amp;gt;= 4 &amp;amp;&amp;amp;&amp;nbsp;&lt;br&gt;rcv_packet.cmd ==&lt;br&gt;&amp;nbsp;htons(CMD_ACK)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="652.5" y="767" width="205" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--136" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--137" target="BXDnWHQRJDUZymQBICM--126">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="615" y="572" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--137" value="Sleep(20);&lt;br&gt;time_wait_ack += 20" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="550" y="717" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--138" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="725" y="607" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--139" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="725" y="737" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--140" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="625" y="777" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--141" target="BXDnWHQRJDUZymQBICM--147">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--141" value="error(&quot;Could not receive from server.&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="885" y="547" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--157" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--143" target="BXDnWHQRJDUZymQBICM--156">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--143" value="发送成功, 写入日志&lt;br&gt;block++" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="702.5" y="850" width="105" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--145" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="857.5" y="547" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--147" target="BXDnWHQRJDUZymQBICM--79">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="950" y="415" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--147" value="rxmt++" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="920" y="475" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--150" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="725" y="430" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--151" value="error(&quot;Could not receive from server.&quot;)&#xa;并写入日志" style="whiteSpace=wrap;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="560" y="387.5" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--153" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="685" y="390" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--156" target="BXDnWHQRJDUZymQBICM--74">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1025" y="930" />
              <mxPoint x="1025" y="290" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--156" target="BXDnWHQRJDUZymQBICM--160">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--156" value="s_size == DATA_SIZE ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="670" y="910" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--159" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="855" y="905" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--163" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--160" target="BXDnWHQRJDUZymQBICM--162">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--160" value="end = clock();&lt;br&gt;计算传输时间&lt;br&gt;consumeTime = ((double)(end - start)) / CLK_TCK;&lt;br&gt;计算传输速率、丢包率&lt;br&gt;写入日志" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="610" y="980" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--165" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="BXDnWHQRJDUZymQBICM--1" source="BXDnWHQRJDUZymQBICM--162" target="BXDnWHQRJDUZymQBICM--164">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--162" value="关闭日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="715" y="1090" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--164" value="结束" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="720" y="1140" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--166" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="725" y="950" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--167" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="437.5" y="1110" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--168" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="445" y="1340" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="BXDnWHQRJDUZymQBICM--169" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="BXDnWHQRJDUZymQBICM--1">
          <mxGeometry x="725" y="827" width="20" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="LI6rFuT-S4bGqirIJAyx" name="第 5 页">
    <mxGraphModel dx="723" dy="657" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2336" pageHeight="1654" math="0" shadow="0">
      <root>
        <mxCell id="0YeVQIbVGUg5uxFaemRt-0" />
        <mxCell id="0YeVQIbVGUg5uxFaemRt-1" parent="0YeVQIbVGUg5uxFaemRt-0" />
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-1" target="mbvRVq5xMvSJ5gtCf5Ol-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-1" value="下载文件" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="240" y="130" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-3" target="mbvRVq5xMvSJ5gtCf5Ol-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-3" value="获取用户输入文件路径localFile, remoteFile" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="217.5" y="190" width="125" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-5" target="mbvRVq5xMvSJ5gtCf5Ol-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-5" value="获取用户输入服务器IP: serverAddr以及本地IP: clientAddr" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="215" y="260" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-6" value="error(&amp;quot;open log file failed&amp;quot;)" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="385" y="347.5" width="100" height="35" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-8" target="mbvRVq5xMvSJ5gtCf5Ol-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-8" value="服务器端口选择69&lt;br&gt;本地端口选择任意空闲端口" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="197.5" y="420" width="165" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-11" target="mbvRVq5xMvSJ5gtCf5Ol-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-11" target="mbvRVq5xMvSJ5gtCf5Ol-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-11" value="&lt;span&gt;打开日志文件 tftp.log&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="200" y="340" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-14" target="mbvRVq5xMvSJ5gtCf5Ol-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-14" target="mbvRVq5xMvSJ5gtCf5Ol-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-14" value="创建套接字 sock" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="215" y="500" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-15" value="error(&quot;Client create socket error!&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="380" y="505" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-16" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="260" y="390" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-17" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="355" y="347.5" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-19" target="mbvRVq5xMvSJ5gtCf5Ol-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-19" value="使用bind将套接字sock和clientAddr绑定" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="220" y="580" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-22" target="mbvRVq5xMvSJ5gtCf5Ol-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-22" target="mbvRVq5xMvSJ5gtCf5Ol-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-22" value="读取选择的传输模式choose" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="187.5" y="790" width="185" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-24" target="mbvRVq5xMvSJ5gtCf5Ol-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-24" value="字符模式&lt;br&gt;sendPacket.mode = netascii" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="110" y="890" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-26" target="mbvRVq5xMvSJ5gtCf5Ol-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-26" value="数据包类型为读文件请求包WRQ&lt;br&gt;sendPacket.cmd = htons(CMD_RRQ);" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="172.5" y="660" width="215" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-28" target="mbvRVq5xMvSJ5gtCf5Ol-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-28" value="数据包文件名&lt;br&gt;sendPacket.filename&amp;nbsp; = filename" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="185" y="730" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-30" target="mbvRVq5xMvSJ5gtCf5Ol-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-30" value="二进制模式&lt;br&gt;sendPacket.mode = octet" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="285" y="890" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-31" value="choose = 0" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="155" y="840" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-32" value="choose = 1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="340" y="840" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-33" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="250" y="550" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-34" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="345" y="500" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-36" target="mbvRVq5xMvSJ5gtCf5Ol-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-36" value="发送数据包&lt;br&gt;sendto(sock, sendPacket)" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="195" y="980" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-38" target="mbvRVq5xMvSJ5gtCf5Ol-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-38" value="time_wait_ack = 0" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="220" y="1050" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-41" target="mbvRVq5xMvSJ5gtCf5Ol-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-41" target="mbvRVq5xMvSJ5gtCf5Ol-57">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="465" y="1135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-41" value="小于最大等待时间&lt;br&gt;time_wait_ack &amp;lt; PKT_RCV_TIMEOUT" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="120" y="1100" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-43" target="mbvRVq5xMvSJ5gtCf5Ol-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-43" value="接收数据包&lt;br&gt;r_size = recvfrom(sock, rcv_packet)" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="175" y="1200" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-46" target="mbvRVq5xMvSJ5gtCf5Ol-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-46" target="mbvRVq5xMvSJ5gtCf5Ol-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-46" value="r_size &amp;lt; 4 ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="220" y="1260" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-47" value="error(&quot;&quot;Bad packet&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="387.5" y="1260" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-48" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="342.5" y="1260" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-51" target="mbvRVq5xMvSJ5gtCf5Ol-53">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="75" y="1360" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-51" target="mbvRVq5xMvSJ5gtCf5Ol-59">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="1360" />
              <mxPoint x="530" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-51" value="r_size &amp;gt;= 4 &amp;amp;&amp;amp;&amp;nbsp;&lt;br&gt;rcv_packet.cmd == htons(CMD_ACK)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="115" y="1330" width="330" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-53" target="mbvRVq5xMvSJ5gtCf5Ol-41">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="75" y="1135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-53" value="Sleep(20);&lt;br&gt;time_wait_ack += 20" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="10" y="1230" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-54" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="250" y="1170" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-55" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="250" y="1300" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-56" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="90" y="1340" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-57" value="error(&quot;Could not receive from server.&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="400" y="1180" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-59" target="mbvRVq5xMvSJ5gtCf5Ol-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-59" value="收到ACK，开始传输文件&lt;br&gt;打开文件&lt;br&gt;fp = fopen(localFile);" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="685" y="115" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-60" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-62" target="mbvRVq5xMvSJ5gtCf5Ol-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-62" target="mbvRVq5xMvSJ5gtCf5Ol-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-62" value="fp = NULL ?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="710" y="195" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-63" value="error(&quot;File not exists!&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="822.5" y="200" width="155" height="35" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-71" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="805" y="190" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-113" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="437.5" y="1110" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-114" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="445" y="1340" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-138" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-116" target="mbvRVq5xMvSJ5gtCf5Ol-137">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-116" value="time_wait_data &amp;lt; PKT_RCV_TIMEOUT * PKT_MAX_RXMT" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="678.14" y="337.5" width="162.5" height="82.5" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-117" target="mbvRVq5xMvSJ5gtCf5Ol-116">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-117" value="time_wait_data = 0&lt;br&gt;block = 1&lt;br&gt;sendPacket.cmd = htons(CMD_ACK);" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="649.37" y="263.75" width="221.25" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-121" target="mbvRVq5xMvSJ5gtCf5Ol-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-121" target="mbvRVq5xMvSJ5gtCf5Ol-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-121" value="time_wait_data == PKT_RCV_TIMEOUT &amp;amp;&amp;amp; block == 1" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="659.39" y="510" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-123" value="error(&quot;Could not receive from server.&quot;)&lt;br&gt;并写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="895.0000000000001" y="520" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-125" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="735" y="420" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-126" target="mbvRVq5xMvSJ5gtCf5Ol-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-134" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-126" target="mbvRVq5xMvSJ5gtCf5Ol-133">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-126" value="r_size &amp;gt; 0 &amp;amp;&amp;amp;&lt;br&gt;&amp;nbsp;r_size &amp;lt; 4" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="694.3900000000001" y="610" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-128" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="857.5000000000001" y="515" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-129" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="735.0000000000001" y="580" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-130" value="error(&quot;&quot;Bad packet&quot;)&lt;br&gt;写入日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="857.82" y="615" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-132" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="825.0000000000001" y="610" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-133" target="mbvRVq5xMvSJ5gtCf5Ol-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-133" target="mbvRVq5xMvSJ5gtCf5Ol-143">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-133" value="rcv_packet.cmd == htons(CMD_DATA) &amp;amp;&amp;amp;&lt;br&gt;&amp;nbsp;rcv_packet.block == htons(block)" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="629.3900000000001" y="700" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-135" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="735.0000000000001" y="660" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-136" target="mbvRVq5xMvSJ5gtCf5Ol-147">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-136" value="发送ACK&lt;br&gt;sendto(sock, sendPacket)&lt;br&gt;写入收到数据包&lt;br&gt;fwrite(rcv_packet.data, 1, r_size - 4, fp);" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="647.5" y="790" width="225" height="60" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-137" target="mbvRVq5xMvSJ5gtCf5Ol-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-137" value="r_size = recvfrom(sock, rcv_packet）" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="654.39" y="450" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-142" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="735" y="760" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-143" target="mbvRVq5xMvSJ5gtCf5Ol-116">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="379" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-143" value="Sleep(50);&lt;br&gt;time_wait_data += 50" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="542.5" y="620" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-150" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-147" target="mbvRVq5xMvSJ5gtCf5Ol-116">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="900" />
              <mxPoint x="1040" y="378.75" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-147" target="mbvRVq5xMvSJ5gtCf5Ol-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-147" value="r_size == DATA_SIZE + 4?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="661.89" y="880" width="195" height="40" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-151" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="857.82" y="880" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-152" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="610.32" y="710" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-153" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-154" target="mbvRVq5xMvSJ5gtCf5Ol-156">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-154" value="end = clock();&lt;br&gt;计算传输时间&lt;br&gt;consumeTime = ((double)(end - start)) / CLK_TCK;&lt;br&gt;计算传输速率、丢包率&lt;br&gt;写入日志" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="615" y="950" width="290" height="80" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="0YeVQIbVGUg5uxFaemRt-1" source="mbvRVq5xMvSJ5gtCf5Ol-156" target="mbvRVq5xMvSJ5gtCf5Ol-157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-156" value="关闭日志文件" style="whiteSpace=wrap;html=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="720" y="1060" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mbvRVq5xMvSJ5gtCf5Ol-157" value="结束" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="0YeVQIbVGUg5uxFaemRt-1">
          <mxGeometry x="725" y="1110" width="70" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
